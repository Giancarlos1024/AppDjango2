{% extends 'layout.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="container">
  <div class="mb-3 text-end">
    <a href="{% url 'create-account' %}" class="btn btn-primary btn-sm">
      Crear cuenta
    </a>
  </div>
  <h1 class="text-center">Usuarios</h1>
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
      <thead class="thead-dark">
        <tr>
          <th class="col-3">Nombre completo</th>
          <th class="col-3">Usuario</th>
          <th class="col-3">Rol</th>
          <th class="col-1">Activo</th>
          <th class="col-2">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td class="col-3">{{ user.first_name }} {{ user.last_name }}</td>
          <td class="col-3">{{ user.username }}</td>
          <td class="col-3">{{ user.get_role_display }}</td>
          <td class="col-1">{{ user.is_active }}</td>
          <td class="col-2">
            <a href="{% url 'edit-user' user.pk %}" class="btn btn-warning btn-sm">Editar</a>
            <a href="{% url 'user-confirm-delete' user.pk %}" class="btn btn-danger btn-sm">Eliminar</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3">No hay usuarios disponibles.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}